{% extends 'base.html.twig' %}

{# Include snippets and then alias their blocks so as to order them as needed #}
{% use ':snippets:stdassets.html.twig' with javascripts as stdjavascripts, stylesheets as stdstylesheets %}
{#% use ':snippets:rankings/rankingsloader.html.twig' with javascripts as rankingsloaderjavascripts %#}

{# Append to title #}
{% block title %}
    : News
{% endblock %}

{# Inject dynamic content variables #}
{% block dynamicVariables %}
{% endblock %}

{# Custom styling that require the use of path generation #}
{% block style %}
{% endblock %}

{% block body %}
    {# Begin HTML #}
    <div class="container-fluid">
        <div class="row">
            <div class="col">
                <div class="text-center">
                    {% include ':snippets:advertising/responsive_horizontal.html.twig' %}
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xl-2"></div>
            <div class="col-12 col-xl-8">
                <div class="hotstatus-container">
                    {#<div class="headsup-announcement">
                            Service Announcement: Hotstatus is currently migrating to a new database and cloud provider, recently uploaded replays will not be processed until after migration is complete.
                        </div>#}
                    <div class="hotstatus-subcontainer contact-container">
                        Hotstat.us is a web application with which you can view Heroes of the Storm statistics parsed from player-submitted replay files.
                        <br><br>
                        View your favorite hero's stats, or visit your own personal player page to see your recent matches, hero and map statistics.
                        <hr/>
                        Check back here in the future for any news regarding updates to the site (a blog format is in the works)!
                        <hr/>
                        <div class="d-inline-block"><h5>{{ processedReplays }}</h5></div> replays have been processed for over <div class="d-inline-block"><h5>1,060,000</h5></div> unique players since September 2017!
                        <br><br>
                        {% if queuedReplays_raw > 0 %}<div class="d-inline-block"><h5>{{ queuedReplays }}</h5></div> replays currently queued for processing.{% endif %}
                        <hr/>
                        If you find Hotstat.us useful, please consider disabling AdBlock or supporting development through <a class="email" href="https://www.patreon.com/hotstatus" target="_blank">Patreon</a>!
                        <hr/>
                        <h5>News (2017-12-26):</h5>
                        <ul>
                            <li>A lot of behind the scenes work has been done with the cloud infrastructure in order to reduce costs while aiming to deliver the same speed for requests.
                            <li>Migrated cache generation workers to Google Cloud to reduce data fees.</li>
                            <li>Switched to using fixed replay processing rates. (Temporary)</li>
                            <li>Added replay processed and queued counters displayed on news page to let people know when there is a backlog of replays to process. Queued count is updated every minute.</li>
                        </ul>
                        <h5>News (2017-12-23):</h5>
                        <ul>
                            <li>Rankings have been reprocessed, rank displays have been re-enabled and will continue to be adjusted.</li>
                        </ul>
                        <h5>News (2017-12-22):</h5>
                        <ul>
                            <li>All rankings are disabled while new reprocessing technique is worked on.</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-xl-2">
                {% include ':snippets:advertising/responsive_vertical.html.twig' %}
            </div>
        </div>
    </div>
{% endblock %}

{# Stylesheets #}
{% block stylesheets %}
    {{ block('stdstylesheets') }}
{% endblock %}

{# Javascript #}
{% block javascripts %}
    {{ block('stdjavascripts') }}
    {#{ block('rankingsloaderjavascripts') }#}
{% endblock %}

{# Tail Javascript #}
{% block tailJavascript %}
    {# Hotstatus.advertising.internal.generateByDefault = false; TODO - uncomment once the blog loader is implemented#}
{% endblock %}

